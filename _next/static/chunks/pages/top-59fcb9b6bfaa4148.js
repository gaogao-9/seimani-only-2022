(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{2734:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/top",function(){return r(6995)}])},8408:function(n,t,r){"use strict";r.d(t,{t:function(){return h}});var e=r(4051),i=r.n(e),o=r(7294);function a(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function u(n,t,r,e,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(e,i)}function c(n){return function(){var t=this,r=arguments;return new Promise((function(e,i){var o=n.apply(t,r);function a(n){u(o,e,i,a,c,"next",n)}function c(n){u(o,e,i,a,c,"throw",n)}a(void 0)}))}}function s(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function l(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),e.forEach((function(t){s(n,t,r[t])}))}return n}function f(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,i,o=[],a=!0,u=!1;try{for(r=r.call(n);!(a=(e=r.next()).done)&&(o.push(e.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return a(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(n,t){var r=(0,o.createContext)(null);return{ImageContext:r,useImageContext:function(){return(0,o.useContext)(r)},useImageContextValue:function(){var r=(0,o.useState)({loaded:!1,images:{},init:function(){return c(i().mark((function r(){var o,u,s,h,p;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=function(){var r=c(i().mark((function r(){var e,o,a,u,c,s,l,f,h,p;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e={},o=!0,a=!1,u=void 0,r.prev=2,c=n[Symbol.iterator]();case 4:if(o=(s=c.next()).done){r.next=15;break}return l=s.value,r.next=8,fetch(t(l)).then((function(n){return n.arrayBuffer()}));case 8:f=r.sent,h=new Blob([f],{type:"image/png"}),p=URL.createObjectURL(h),e[l]=p;case 12:o=!0,r.next=4;break;case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(2),a=!0,u=r.t0;case 21:r.prev=21,r.prev=22,o||null==c.return||c.return();case 24:if(r.prev=24,!a){r.next=27;break}throw u;case 27:return r.finish(24);case 28:return r.finish(21);case 29:return r.abrupt("return",e);case 30:case"end":return r.stop()}}),r,null,[[2,17,21,29],[22,,24,28]])})));return function(){return r.apply(this,arguments)}}(),u=o(),s=new Promise((function(n){return setTimeout(n,1e3)})),r.t0=f,r.next=6,Promise.all([u,s]);case 6:r.t1=r.sent,h=(0,r.t0)(r.t1,1),p=h[0],a(l({},e,{loaded:!0,images:p}));case 10:case"end":return r.stop()}}),r)})))()},dispose:function(){var n=!0,t=!1,r=void 0;try{for(var i,o=Object.values(e.images)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var u=i.value;URL.revokeObjectURL(u)}}catch(c){t=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}a(l({},e,{loaded:!1,images:{}}))}}),e=r[0],a=r[1];return e}}}},6995:function(n,t,r){"use strict";r.r(t),r.d(t,{default:function(){return K}});var e=r(5893),i=r(7294),o=r(917),a=r(4632),u=r(9836),c=(0,r(8408).t)(["chara.png","chara_s.png","bubble.png","bubble_s.png","item.png","item.png","item_s.png","logo.png","logo_s.png"],(function(n){return"/assets/img/top/".concat(n)})),s=c.ImageContext,l=c.useImageContext,f=c.useImageContextValue;function h(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function p(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,i,o=[],a=!0,u=!1;try{for(r=r.call(n);!(a=(e=r.next()).done)&&(o.push(e.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return h(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function m(){var n=d(["\n  position: relative;\n  overflow: hidden;\n  transform-style: preserve-3d;\n  width: ",";\n  width: ",";\n  height: ",";\n  height: ",";\n"]);return m=function(){return n},n}function g(){var n=d(["\n  width: 100%;\n  height: 100%;\n  transform-origin: left top;\n  transform-style: inherit;\n  backface-visibility: hidden;\n"]);return g=function(){return n},n}function v(){var n=d(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-image: url(",");\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  backface-visibility: hidden;\n\n  @media (min-aspect-ratio: 1/1) and (max-height: 720px) {\n    background-image: url(",");\n  }\n  @media (max-aspect-ratio: 1/1) and (max-width: 720px) {\n    background-image: url(",");\n  }\n"]);return v=function(){return n},n}var y=a.Z.div(m(),(function(n){var t=n.width;return Array.isArray(t)?t[0]:t}),(function(n){var t=n.width;return Array.isArray(t)?t[1]:t}),(function(n){var t=n.height;return Array.isArray(t)?t[0]:t}),(function(n){var t=n.height;return Array.isArray(t)?t[1]:t})),b=a.Z.div(g()),w=function(n){switch(n){case"left":return 0;case"center":return.5;case"right":return 1;default:return n}},x=function(n){switch(n){case"top":return 0;case"center":return.5;case"bottom":return 1;default:return n}},P=function(n){var t=n.rectWidth,r=n.rectHeight,o=n.imageWidth,a=n.imageHeight,u=n.minimumHeightThretholdRate,c=n.minimumWidthThretholdRate,s=n.landscapePositionX,l=n.landscapePositionY,f=n.portraitPositionX,h=n.portraitPositionY,d=n.children,m=n.onResize,g=(0,i.useRef)(null),v=(0,i.useState)({w:0,h:0}),P=v[0],j=v[1],k=(0,i.useMemo)((function(){return{w:o,h:a}}),[o,a]);(0,i.useEffect)((function(){if(null!==g.current){var n=g.current,t=new ResizeObserver((function(n){var t=p(n,1)[0].contentRect;j({w:t.width,h:t.height}),null===m||void 0===m||m({w:t.width,h:t.height})})),r=n.getBoundingClientRect();return j({w:r.width,h:r.height}),null===m||void 0===m||m({w:r.width,h:r.height}),t.observe(n),function(){t.unobserve(n)}}}),[g.current]);var S=(0,i.useMemo)((function(){var n=k.w/k.h,t=P.w/P.h;return t>n?{x:P.h*Math.min(t,u)/n/k.h,y:P.h*Math.min(t,u)/k.w}:{x:P.w/Math.max(t,c)/k.h,y:P.w/Math.max(t,c)*n/k.w}}),[P.w,P.h]),O=(0,i.useMemo)((function(){return w(s)}),[s]),A=(0,i.useMemo)((function(){return x(l)}),[l]),M=(0,i.useMemo)((function(){return w(f)}),[f]),_=(0,i.useMemo)((function(){return x(h)}),[h]),C=(0,i.useMemo)((function(){var n=k.w/k.h,t=P.w/P.h;return t>n?{x:P.w*(1-Math.min(t,u)/t)*O,y:P.h*(1-Math.min(t,u)/n)*A}:{x:P.w*(1-n/Math.max(t,c))*M,y:P.h*(1-t/Math.max(t,c))*_}}),[P.w,P.h]);return(0,e.jsx)(y,{ref:g,width:t,height:r,children:(0,e.jsx)(b,{style:{transform:"translate(".concat(C.x,"px, ").concat(C.y,"px) scale(").concat(S.x,", ").concat(S.y,")")},children:d})})},j=a.Z.div(v(),(function(n){return n.src}),(function(n){var t=n.smallSrc;return"".concat(t)}),(function(n){var t=n.smallSrc;return"".concat(t)}));function k(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function S(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,i,o=[],a=!0,u=!1;try{for(r=r.call(n);!(a=(e=r.next()).done)&&(o.push(e.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return k(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function A(){var n=O(["\n  0% {\n    transform: translateY(","px) scale(1, 0.7);\n  }\n  100% {\n    transform: translateY(0px) scale(1, 1);\n  }\n"]);return A=function(){return n},n}function M(){var n=O(["\n  0% {\n    transform: scale(0.8, 0);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n"]);return M=function(){return n},n}function _(){var n=O(["\n  0% {\n    transform: skew(0deg, 0deg);\n  }\n  25% {\n    transform: skew(1deg, 1deg);\n  }\n  50% {\n    transform: skew(0deg, 0deg);\n  }\n  75% {\n    transform: skew(-1deg, -1deg);\n  }\n  100% {\n    transform: skew(0deg, 0deg);\n  }\n"]);return _=function(){return n},n}function C(){var n=O(["\n  0% {\n    transform: translateY(-","px);\n  }\n  1% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0px);\n  }\n"]);return C=function(){return n},n}function I(){var n=O(["\n  0% {\n    transform: translateY(0px);\n  }\n  25% {\n    transform: translateY(-","px);\n  }\n  50% {\n    transform: translateY(0px);\n  }\n  75% {\n    transform: translateY(-","px);\n  }\n  100% {\n    transform: translateY(0px);\n  }\n"]);return I=function(){return n},n}function Y(){var n=O(["\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n"]);return Y=function(){return n},n}function R(){var n=O(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transform-origin: center center;\n  transform-style: preserve-3d;\n"]);return R=function(){return n},n}function z(){var n=O(["\n  animation: 0.5s cubic-bezier(0.37, 1.26, 0.76, 1.35) ","s 1\n    running both ",";\n"]);return z=function(){return n},n}function E(){var n=O(["\n  animation: 0.5s cubic-bezier(0.37, 1.26, 0.76, 1.35)\n      ","s 1 running both ",",\n    9s ease ","s infinite running forwards\n      ",";\n"]);return E=function(){return n},n}function T(){var n=O(["\n  opacity: 0;\n  animation: 0.5s cubic-bezier(0.35, 0.98, 0.59, 1.27)\n      ","s 1 running both\n      ",",\n    10s ease ","s infinite\n      "," forwards running\n      ",";\n"]);return T=function(){return n},n}function F(){var n=O(["\n  animation: 0.5s ease ","s 1 running both\n    ",";\n  transform: translate(\n    ","px,\n    ","px\n  );\n"]);return F=function(){return n},n}var X=function(){var n=window.navigator.userAgent.toLowerCase();return n.indexOf("ipad")>-1||n.indexOf("macintosh")>-1&&"ontouchend"in document}()||window.matchMedia&&(window.matchMedia("(min-aspect-ratio: 1/1) and (max-height: 720px)").matches||window.matchMedia("(max-aspect-ratio: 1/1) and (max-width: 720px)").matches)?{w:529.5,h:375}:{w:2118,h:1500},Z=.5,H=(0,o.F4)(A(),X.h),U=(0,o.F4)(M()),W=(0,o.F4)(_()),L=(0,o.F4)(C(),X.h),N=(0,o.F4)(I(),X.h/50,X.h/50),B=(0,o.F4)(Y()),$=a.Z.div(R()),V=(0,a.Z)($)(z(),Z,H),D=(0,a.Z)($)(E(),1,U,2,W),Q=(0,a.Z)($)(T(),(function(n){return n.delay+Z+1}),L,(function(n){return n.delay+Z+1.5}),(function(n){return n.reverse?"reverse":"normal"}),N),q=(0,a.Z)($)(F(),3,B,(function(n){var t=n.position,r=n.offsetX;return X.w*(("bottom"===t?0:.33)+r)}),(function(n){var t=n.position,r=n.offsetY;return X.h*(("bottom"===t?.4:.13)+r)})),G=[{clipPath:"inset(77.5% 90% 10% 2%)",position:"foreground"},{clipPath:"inset(66% 87% 22.5% 5%)",position:"background"},{clipPath:"polygon(0% 55%, 0% 44%, 12% 52%, 14% 69%)",position:"background"},{clipPath:"polygon(0% 39%, 0% 19%, 19% 27%, 19% 39%)",position:"foreground"},{clipPath:"polygon(9% 52%, 7% 43%, 19% 37%, 34% 56%)",position:"foreground"},{clipPath:"inset(0% 78% 77% 10%)",position:"foreground"},{clipPath:"inset(82% 67% 1% 13%)",position:"foreground"},{clipPath:"inset(0% 61% 85% 21%)",position:"foreground"},{clipPath:"inset(8% 50% 81% 40%)",position:"foreground"},{clipPath:"inset(3% 34% 83% 56%)",position:"foreground"},{clipPath:"inset(20% 13% 59% 76%)",position:"background"},{clipPath:"polygon(81% 4%, 97% 4%, 92% 20%, 81% 19%)",position:"foreground"},{clipPath:"inset(42% 9% 47% 84%)",position:"foreground"},{clipPath:"inset(86% 6% 0% 85%)",position:"foreground"},{clipPath:"inset(26% 5% 61% 86%)",position:"foreground"},{clipPath:"inset(52% 3% 34% 90%)",position:"foreground"},{clipPath:"inset(66% 0% 18% 89%)",position:"foreground"},{clipPath:"polygon(95% 7%, 100% 7%, 100% 25%, 92% 25%)",position:"foreground"}],J=function(){var n=l(),t=(0,i.useState)("bottom"),r=t[0],o=t[1],a=(0,i.useState)([0,0]),c=S(a[0],2),s=c[0],f=c[1],h=a[1],p=(0,i.useCallback)((function(n){var t=X.w/X.h,r=n.w/n.h,e=2.16;r<=e&&r>=t&&h([0,-.18*((r-t)/(e-t))]);if(r<=3&&r>e){var i=(3-r)/.8399999999999999;h([-.11*i,.09*i])}o(r>e?"right":"bottom")}),[]);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(u.HQ,{children:n.loaded&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(P,{rectWidth:"100%",rectHeight:["calc(100vh - 60px)","calc(100dvh - 60px)"],landscapePositionX:"center",landscapePositionY:.3,portraitPositionX:"center",portraitPositionY:"bottom",imageWidth:X.w,imageHeight:X.h,minimumHeightThretholdRate:3,minimumWidthThretholdRate:.6,onResize:p,children:[G.map((function(t,r){return"background"===t.position?(0,e.jsx)(Q,{delay:r/15,reverse:r%2===0,children:(0,e.jsx)(j,{src:n.images["item.png"],smallSrc:n.images["item_s.png"],style:{width:X.w,height:X.h,clipPath:t.clipPath}})},r):null})),(0,e.jsx)(V,{children:(0,e.jsx)(j,{src:n.images["chara.png"],smallSrc:n.images["chara_s.png"],style:{width:X.w,height:X.h}})}),G.map((function(t,r){return"foreground"===t.position?(0,e.jsx)(Q,{delay:r/15,reverse:r%2===0,children:(0,e.jsx)(j,{src:n.images["item.png"],smallSrc:n.images["item_s.png"],style:{width:X.w,height:X.h,clipPath:t.clipPath}})},r):null})),(0,e.jsx)(D,{children:(0,e.jsx)(j,{src:n.images["bubble.png"],smallSrc:n.images["bubble_s.png"],style:{width:X.w,height:X.h}})}),(0,e.jsx)(q,{position:r,offsetX:s,offsetY:f,children:(0,e.jsx)(j,{src:n.images["logo.png"],smallSrc:n.images["logo_s.png"],style:{width:X.w,height:X.h}})})]})})})})},K=function(){var n=f();return(0,i.useEffect)((function(){return n.init(),function(){n.dispose()}}),[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(s.Provider,{value:n,children:(0,e.jsx)(J,{})})})}}},function(n){n.O(0,[435,836,774,888,179],(function(){return t=2734,n(n.s=t);var t}));var t=n.O();_N_E=t}]);